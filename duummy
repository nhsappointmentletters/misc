 private BoolQueryBuilder buildDispatchCountryQuery(BoolQueryBuilder queryWithOriginCountryFacets, SearchCriteria searchCriteria) {
        BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery();
        return searchCriteria.getDispatchCountryCode().stream().map(countryCode -> shouldArray(queryBuilder, countryCode, DISPATCH_COUNTRY_CODE)
        ).reduce((first, second) -> queryWithOriginCountryFacets.must(second)).orElse(queryWithOriginCountryFacets);
    }


     private BoolQueryBuilder buildDispatchCountryQuery(BoolQueryBuilder queryWithOriginCountryFacets, SearchCriteria searchCriteria) {

        if (!searchCriteria.getDispatchCountryCode().isEmpty()) {
            BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery();
            for(String countryCode :   searchCriteria.getDispatchCountryCode()) {
                queryBuilder = shouldArray(queryBuilder, DISPATCH_COUNTRY_CODE, countryCode);
                queryWithOriginCountryFacets.must(queryBuilder);
            }
            return queryWithOriginCountryFacets;
        }
        return queryWithOriginCountryFacets;
        }
